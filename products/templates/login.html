{% extends "base.html" %}
{% load widget_tweaks %}
{% block title %}Login{% endblock %}
{% block content %}
<div class="auth-container">
  <div class="auth-background"></div>
  <div class="container d-flex justify-content-center align-items-center min-vh-100">
    <div class="auth-card">
      <div class="auth-header">
        <div class="auth-icon">
          <i class="fas fa-user-circle"></i>
        </div>
        <h2 class="auth-title">Welcome Back</h2>
        <p class="auth-subtitle">Sign in to your PyShop account</p>
      </div>
      
      <form method="post" class="auth-form">
        {% csrf_token %}
        
        {% if form.non_field_errors %}
          <div class="alert alert-danger auth-alert" role="alert">
            {% for error in form.non_field_errors %}
              <i class="fas fa-exclamation-circle me-2"></i>{{ error }}
            {% endfor %}
          </div>
        {% endif %}
        
        <div class="form-floating mb-3">
          {{ form.username|add_class:'form-control auth-input' }}
          <label for="{{ form.username.id_for_label }}">{{ form.username.label }}</label>
          {% if form.username.errors %}
            <div class="auth-error">
              {% for error in form.username.errors %}
                {{ error }}
              {% endfor %}
            </div>
          {% endif %}
        </div>
        
        <div class="form-floating mb-4">
          {{ form.password|add_class:'form-control auth-input' }}
          <label for="{{ form.password.id_for_label }}">{{ form.password.label }}</label>
          {% if form.password.errors %}
            <div class="auth-error">
              {% for error in form.password.errors %}
                {{ error }}
              {% endfor %}
            </div>
          {% endif %}
        </div>
        
        <button type="submit" class="btn auth-btn w-100 mb-3">
          <i class="fas fa-sign-in-alt me-2"></i>Sign In
        </button>
      </form>
      
      <div class="auth-footer">
        <p class="mb-0">Don't have an account? <a href="{% url 'register' %}" class="auth-link">Create Account</a></p>
      </div>
    </div>
  </div>
</div>
<style>
.auth-container {
  position: relative;
  min-height: 100vh;
  overflow: hidden;
}

.auth-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, #312e81 0%, #4c1d95 50%, #1e1b4b 100%);
  z-index: -1;
}

.auth-card {
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(10px);
  border-radius: 20px;
  padding: 3rem;
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  max-width: 480px;
  width: 100%;
}

.auth-header {
  text-align: center;
  margin-bottom: 2rem;
}

.auth-icon {
  width: 80px;
  height: 80px;
  background: linear-gradient(135deg, #312e81, #4c1d95);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto 1.5rem;
  color: white;
  font-size: 2rem;
}

.auth-title {
  font-size: 1.8rem;
  font-weight: 700;
  color: #1f2937;
  margin-bottom: 0.5rem;
}

.auth-subtitle {
  color: #6b7280;
  margin-bottom: 0;
}

.auth-input {
  border: 2px solid #e5e7eb;
  border-radius: 12px;
  padding: 1rem;
  font-size: 1rem;
  transition: all 0.3s ease;
}

.auth-input:focus {
  border-color: #312e81;
  box-shadow: 0 0 0 3px rgba(49, 46, 129, 0.1);
}

.auth-btn {
  background: linear-gradient(135deg, #312e81, #4c1d95);
  border: none;
  border-radius: 12px;
  padding: 1rem;
  font-size: 1.1rem;
  font-weight: 600;
  color: white;
  transition: all 0.3s ease;
}

.auth-btn:hover {
  background: linear-gradient(135deg, #1e1b4b, #312e81);
  transform: translateY(-2px);
  box-shadow: 0 10px 25px rgba(49, 46, 129, 0.3);
}

.auth-footer {
  text-align: center;
  padding-top: 1rem;
  border-top: 1px solid #e5e7eb;
}

.auth-link {
  color: #312e81;
  font-weight: 600;
  text-decoration: none;
}

.auth-link:hover {
  color: #4c1d95;
  text-decoration: underline;
}

.auth-alert {
  border-radius: 12px;
  border: none;
  font-weight: 500;
}

.auth-error {
  color: #dc2626;
  font-size: 0.875rem;
  margin-top: 0.25rem;
  font-weight: 500;
}

body.dark-mode .auth-card {
  background: rgba(31, 41, 55, 0.95);
  color: #f9fafb;
}

body.dark-mode .auth-title {
  color: #f9fafb;
}

@media (max-width: 768px) {
  .auth-card {
    margin: 1rem;
    padding: 2rem 1.5rem;
  }
}
</style>
{% endblock %}
